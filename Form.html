<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Fiber Pro</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("aIRf5A9QjsUCUiuNW");
        })();
    </script>
    <style>
        /* Base da Calculadora */
        #fiberpro-app { background: #001529; padding: 40px 20px; min-height: 100vh; display: flex; justify-content: center; color: #333; }
        #fiberpro-app * { box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .results-locked { filter: blur(12px); pointer-events: none; opacity: 0.6; }

        /* MODAL - PRECISÃO TOTAL COM O OBJETIVO */
        #fiber-modal { display: none; position: fixed; z-index: 10000; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 21, 41, 0.92); align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        
        .modal-content { 
            background: white; padding: 45px 40px; border-radius: 20px; width: 95%; max-width: 520px; 
            position: relative; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); 
        }

        .close-btn { position: absolute; right: 20px; top: 15px; font-size: 24px; color: #ccc; cursor: pointer; border: none; background: none; }

        .modal-header { text-align: center; margin-bottom: 30px; }
        .modal-header h3 { font-size: 26px; color: #001529; margin: 0 0 10px 0; font-weight: 700; }
        .modal-header p { font-size: 15px; color: #555; margin: 0; }

        /* Alinhamento dos campos - Grid Refinado */
        .form-row { display: flex; gap: 20px; margin-bottom: 18px; }
        .form-group { flex: 1; display: flex; flex-direction: column; }
        .form-group label { font-size: 14px; color: #333; margin-bottom: 8px; font-weight: 600; }
        
        .modal-content input[type="text"], 
        .modal-content input[type="email"] { 
            height: 44px; padding: 0 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px; color: #333; outline: none; transition: border-color 0.2s;
        }
        .modal-content input:focus { border-color: #001529; }

        /* Seletor de Celular Integrado (Bandeira + DDI) */
        .phone-input-group { 
            display: flex; align-items: center; border: 1px solid #ccc; border-radius: 6px; height: 44px; background: #fff; transition: border-color 0.2s;
        }
        .phone-input-group:focus-within { border-color: #001529; }
        .country-flag { 
            display: flex; align-items: center; padding: 0 12px; background: #f8f8f8; border-right: 1px solid #eee; height: 100%; 
        }
        .country-flag img { width: 22px; margin-right: 8px; border-radius: 2px; }
        .country-flag span { font-size: 14px; color: #666; font-weight: 600; }
        .phone-input-group input { border: none !important; flex: 1; height: 100% !important; border-radius: 0 6px 6px 0 !important; }

        /* Checkbox e Termos */
        .consent-row { display: flex; align-items: flex-start; gap: 10px; margin: 25px 0 20px 0; }
        .consent-row input { width: 18px; height: 18px; cursor: pointer; margin-top: 1px; }
        .consent-row label { font-size: 14px; color: #333; cursor: pointer; line-height: 1.3; }

        .btn-enviar { 
            background: #001529; color: white; width: 100%; padding: 16px; border-radius: 6px; 
            border: none; font-weight: 700; font-size: 16px; cursor: pointer; transition: background 0.3s;
        }
        .btn-enviar:hover { background: #0c2b4a; }

        /* Footer - Política de Privacidade */
        .modal-footer { font-size: 11px; color: #888; text-align: center; line-height: 1.6; margin-top: 25px; border-top: 1px solid #f0f0f0; padding-top: 20px; }
        .modal-footer a { color: #1890ff; text-decoration: underline; }
    </style>
</head>
<body>

<div id="fiberpro-app">
    <div id="result-area" class="results-locked"></div>
    <div class="card" style="text-align: center;">
        <button onclick="document.getElementById('fiber-modal').style.display='flex'" style="padding: 15px 30px; background: #1890ff; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Visualizar Resultados</button>
    </div>
</div>

<div id="fiber-modal">
    <div class="modal-content">
        <button class="close-btn" onclick="document.getElementById('fiber-modal').style.display='none'">&times;</button>
        
        <div class="modal-header">
            <h3>Falta pouco!</h3>
            <p>Preencha para liberar seu relatório e receber no e-mail.</p>
        </div>

        <form id="lead-form">
            <div class="form-row">
                <div class="form-group">
                    <label>Nome*</label>
                    <input type="text" id="uName" placeholder="Nome" required>
                </div>
                <div class="form-group">
                    <label>Sobrenome*</label>
                    <input type="text" id="uSurname" placeholder="Sobrenome" required>
                </div>
            </div>

            <div class="form-group" style="margin-bottom: 18px;">
                <label>Email*</label>
                <input type="email" id="uEmail" placeholder="email@empresa.com" required>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Celular*</label>
                    <div class="phone-input-group">
                        <div class="country-flag">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Flag_of_Brazil.svg" alt="BR">
                            <span>+55</span>
                        </div>
                        <input type="text" id="uPhone" placeholder="(00) 00000-0000" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>CPF/CNPJ*</label>
                    <input type="text" id="uCPF" placeholder="000.000.000-00" required>
                </div>
            </div>

            <div class="consent-row">
                <input type="checkbox" id="consent" required>
                <label for="consent">Eu concordo em receber comunicações.</label>
            </div>

            <button type="submit" class="btn-enviar">Enviar</button>
        </form>

        <div class="modal-footer">
            <p>Ao informar meus dados, eu concordo com a <a href="https://fgmdentalgroup.com/politica-de-privacidade" target="_blank">Política de Privacidade</a>.</p>
            <p style="margin-top: 10px;">Comunicação via e-mail contendo ofertas personalizadas de acordo com seu interesse pelo prazo de 12 meses. A qualquer momento é possível renovar ou revogar este consentimento através do "opt-out" ou no nosso site fgmdentalgroup.com, na opção "Direitos do Titular".</p>
        </div>
    </div>
</div>

<script>
    document.getElementById('lead-form').onsubmit = function(e) {
        e.preventDefault();
        const btn = this.querySelector('.btn-enviar');
        btn.disabled = true;
        btn.textContent = 'Enviando...';

        const params = {
            user_name: document.getElementById('uName').value + ' ' + document.getElementById('uSurname').value,
            to_email: document.getElementById('uEmail').value
        };

        emailjs.send('service_zd6gwj4', 'template_rvv0y31', params)
            .then(() => {
                document.getElementById('fiber-modal').style.display = 'none';
                document.getElementById('result-area').classList.remove('results-locked');
                alert('Sucesso! O relatório foi enviado para o seu e-mail.');
            }, (err) => {
                alert('Erro ao enviar. Tente novamente.');
                btn.disabled = false;
                btn.textContent = 'Enviar';
            });
    };
</script>

</body>
</html>